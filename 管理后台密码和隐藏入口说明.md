# 管理后台密码和隐藏入口说明

## 🔐 管理后台访问方式

### 当前设置

**密码位置**：`pages/user-center/user-center.js` 第 118 行

```javascript
if (password === 'wangjicheng2024') {
```

**当前密码**：`wangjicheng2024`

---

## 🕵️ 隐藏入口位置

### 入口位置
- **页面**：用户中心页面（pages/user-center）
- **位置**：页面最底部
- **触发方式**：长按版本号文字
- **显示内容**："庐陵吉成法答 v1.0.0"

### 视觉特征
- 字体非常小（22rpx）
- 颜色半透明（灰色 #ccc，透明度 0.5）
- 位于页面底部边缘
- 普通用户很难注意到

---

## 🔧 如何修改密码

### 步骤

1. **打开文件**
   ```
   pages/user-center/user-center.js
   ```

2. **找到密码验证代码**（第 118 行左右）
   ```javascript
   goToAdmin() {
     wx.showModal({
       title: '管理员验证',
       content: '请输入管理员密码',
       editable: true,
       placeholderText: '请输入密码',
       success: (res) => {
         if (res.confirm) {
           const password = res.content.trim()
           // 这里是密码验证
           if (password === 'wangjicheng2024') {
   ```

3. **修改密码**
   ```javascript
   // 将 'wangjicheng2024' 改成你想要的密码
   if (password === '你的新密码') {
   ```

4. **保存文件**

### 密码建议

- ✅ 使用包含字母、数字的组合
- ✅ 长度建议 8-20 位
- ✅ 定期更换密码
- ❌ 不要使用过于简单的密码（如 123456）
- ❌ 不要告诉他人

---

## 📱 使用管理后台的完整流程

### 第一步：进入用户中心
1. 在小程序首页点击右上角「我的」按钮
2. 进入用户中心页面

### 第二步：找到隐藏入口
1. 滚动到页面最底部
2. 看到一个很小的版本号："庐陵吉成法答 v1.0.0"
3. **长按**这个文字（约 1-2 秒）

### 第三步：输入密码
1. 弹出密码输入框
2. 输入密码：`wangjicheng2024`
3. 点击「确定」

### 第四步：进入管理后台
- 密码正确 → 显示"验证成功" → 自动跳转到管理后台
- 密码错误 → 显示"密码错误"提示

---

## 🛡️ 安全特性

### 已实现的安全措施

1. **隐藏入口**
   - ❌ 删除了显眼的"管理"卡片
   - ✅ 使用版本号作为伪装
   - ✅ 需要长按才能触发（普通点击无效）
   - ✅ 视觉上极不明显

2. **密码保护**
   - ✅ 二次验证机制
   - ✅ 密码错误无法进入
   - ✅ 无密码重置功能（防止破解）

3. **用户体验**
   - ✅ 普通用户完全不知道有管理后台
   - ✅ 即使看到版本号也不会想到长按
   - ✅ 你可以随时修改密码

---

## ⚠️ 安全建议

### 当前安全级别
**适合场景**：个人使用的小程序，用户主要是普通用户

**原因**：
- 本地存储可以被技术手段绕过
- 没有后端验证
- 适合轻量级应用

### 如果需要更高安全性

可以考虑：
1. 使用微信云开发存储数据
2. 添加后端服务器验证
3. 使用微信登录权限控制
4. 记录管理后台访问日志

---

## 🔍 如果忘记密码

### 恢复方法

由于密码存储在代码中，如果忘记密码：

1. **打开项目文件**
   ```
   pages/user-center/user-center.js
   ```

2. **搜索以下代码**
   ```javascript
   goToAdmin()
   ```

3. **找到密码验证行**
   ```javascript
   if (password === 'wangjicheng2024') {
   ```

4. **查看当前密码**

5. **或直接修改为新密码**

---

## 📊 管理后台功能

进入管理后台后，您可以：

### 1. 激活付费用户
- 输入用户手机号后8位
- 选择套餐类型（月付/年付）
- 点击确认激活

### 2. 查看已激活用户列表
- 查看所有已激活的用户
- 显示手机号、套餐类型、激活时间

### 3. 搜索用户
- 通过手机号搜索特定用户

### 4. 查看统计数据
- 总用户数
- 付费用户数
- 年付用户数

---

## 💡 常见问题

### Q1: 为什么不直接显示管理入口？
**A**: 为了防止普通用户误入管理后台，造成数据混乱或安全风险。

### Q2: 长按版本号没反应？
**A**: 请确保：
- 长按时间足够（约1-2秒）
- 长按的是"庐陵吉成法答 v1.0.0"这段文字
- 不是点击，而是长按

### Q3: 可以改隐藏入口的位置吗？
**A**: 可以！修改 `pages/user-center/user-center.wxml` 文件，将 `bindlongpress="goToAdmin"` 添加到其他元素上。

### Q4: 密码可以被破解吗？
**A**:
- 理论上可以，因为代码在前端
- 但由于入口隐藏，普通用户找不到
- 建议定期更换密码
- 个人小程序使用足够安全

### Q5: 可以添加指纹识别或Face ID吗？
**A**: 微信小程序支持 `wx.checkIsSupportSoterAuthentication()` 和 `wx.startSoterAuthentication()`，可以添加生物识别，但实现较复杂。当前密码方式已足够。

---

## 🎯 快速参考

### 代码位置速查

| 功能 | 文件路径 | 行号 |
|------|---------|------|
| 密码验证 | pages/user-center/user-center.js | 约 118 行 |
| 隐藏入口 | pages/user-center/user-center.wxml | 约 94 行 |
| 入口样式 | pages/user-center/user-center.wxss | 约 258-268 行 |

### 修改密码步骤总结

1. 打开 `pages/user-center/user-center.js`
2. 找到 `goToAdmin()` 函数
3. 修改 `if (password === 'wangjicheng2024')` 中的密码
4. 保存文件
5. 重新编译小程序

---

**最后更新**: 2026-01-02
**当前密码**: wangjicheng2024
**隐藏方式**: 长按底部版本号
