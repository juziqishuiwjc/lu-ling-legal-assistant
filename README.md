# 法律助手 - 微信小程序

这是一个基于GLM-4 API的法律问答微信小程序，可以为用户提供专业的法律咨询服务。

## 功能特点

- 智能法律问答：基于GLM-4大模型，提供准确、专业的法律解答
- 优雅的聊天界面：仿微信风格的聊天界面，用户体验友好
- 法律专业提示词：内置专门优化的法律咨询提示词
- 历史记录：支持多轮对话，保持上下文连贯性
- 实时响应：流畅的打字动画效果

## 项目结构

```
xiaochengxu/
├── app.js                 # 小程序入口文件
├── app.json              # 小程序配置文件
├── app.wxss              # 全局样式
├── project.config.json   # 项目配置
├── sitemap.json          # 站点地图配置
├── pages/
│   └── index/           # 主页面
│       ├── index.js     # 页面逻辑
│       ├── index.json   # 页面配置
│       ├── index.wxml   # 页面结构
│       └── index.wxss   # 页面样式
├── utils/
│   └── api.js           # API调用封装
└── images/              # 图片资源目录
    ├── user-avatar.png      # 用户头像
    └── assistant-avatar.png # 助手头像
```

## 配置步骤

### 1. 配置GLM-4 API Key

在 `app.js` 文件中，将您的GLM-4 API Key填入到对应位置：

```javascript
globalData: {
  glmConfig: {
    apiKey: 'YOUR_API_KEY_HERE', // 在这里填入您的API Key
    baseUrl: 'https://open.bigmodel.cn/api/paas/v4/chat/completions'
  }
}
```

获取GLM-4 API Key的步骤：
1. 访问 [智谱AI开放平台](https://open.bigmodel.cn/)
2. 注册并登录账号
3. 在控制台获取API Key

### 2. 准备头像图片

在项目根目录下创建 `images` 文件夹，并添加以下两个头像图片：

- `user-avatar.png` - 用户头像（建议尺寸：80x80px）
- `assistant-avatar.png` - 助手头像（建议尺寸：80x80px）

**临时方案：**
如果暂时没有头像图片，可以：
1. 使用任意png图片作为临时头像
2. 或者修改 `index.wxml` 中的头像路径为网络图片URL

### 3. 配置小程序AppID

在 `project.config.json` 中，将 `appid` 字段改为您的小程序AppID：

```json
{
  "appid": "your_appid_here"
}
```

### 4. 配置服务器域名

在微信小程序后台配置服务器域名白名单：

1. 登录[微信小程序后台](https://mp.weixin.qq.com/)
2. 进入「开发」->「开发管理」->「开发设置」
3. 在「服务器域名」中添加：
   ```
   https://open.bigmodel.cn
   ```

## 使用说明

1. 使用微信开发者工具打开本项目
2. 确保已配置好API Key和头像图片
3. 点击「编译」按钮运行小程序
4. 在聊天界面输入法律问题，点击发送即可获得专业解答

## 技术栈

- 微信小程序原生框架
- GLM-4 大语言模型 API
- WXSS样式（类似CSS）
- JavaScript ES6+

## 特色功能

### 法律专业提示词

系统内置了专门优化的法律咨询提示词，确保AI助手：
- 基于中国现行法律法规回答
- 提供准确的法律依据
- 给出实用的解决方案
- 语言通俗易懂
- 提醒重大问题寻求专业律师帮助

### 智能对话

- 支持多轮对话
- 自动保持最近10条历史记录
- 上下文理解能力强

### 用户体验

- 流畅的打字动画
- 自动滚动到最新消息
- 防止重复提交
- 网络错误提示

## 注意事项

1. **API Key安全**：不要将API Key提交到公开代码仓库
2. **成本控制**：GLM-4 API按使用量计费，请注意控制成本
3. **法律免责**：本助手仅供参考，重大法律问题建议咨询专业律师
4. **内容审核**：小程序上线前需要通过微信审核

## 后续优化建议

- [ ] 添加语音输入功能
- [ ] 支持图片识别（如合同拍照识别）
- [ ] 添加常用法律问题快捷入口
- [ ] 支持收藏重要回答
- [ ] 添加法律知识库模块
- [ ] 接入支付功能（咨询服务付费）
- [ ] 添加用户反馈系统

## 许可证

MIT License

## 联系方式

如有问题或建议，欢迎反馈。
